
<!DOCTYPE html> <html>
<head><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Spy Rover</title>
<style>html { font-family: Helvetica; display: inline-block; margin: 0px auto; text-align: center;}
body{margin-top: 50px;} h1 {color: #444444;margin: 50px auto 30px;} h3 {color: #444444;margin-bottom: 50px;}
p {font-size: 14px;color: #888;margin-bottom: 10px;}
</style>
</head>
Spy Rover Online<br>
<body>
<img style="-webkit-user-select: none;margin: auto;" src="http://192.168.1.1:81/stream" width="530" height="397"><br>

 <div class="buttonOver">
            <div class="top">
                <img id="forward" src="forward-Up.png" alt="forward-Up" usemap="#forward" width="100" height="110">
                <map name="forward">
                    <area shape="rect" coords="0,0,100,110" alt="up" onclick="buttonClicked('forward')">
                </map>
            </div>
            <div class="bottom">
                <img id="left" src="left-Up.png" alt="left-Up" usemap="#left" width="100" height="110">
                <img id="backward" src="backward-Up.png" alt="backward-Up" usemap="#backward" width="100" height="110">
                <img id="right" src="right-Up.png" alt="right-Up" usemap="#right" width="100" height="110">
                <map name="left">
                    <area shape="rect" coords="0,0,100,110" alt="left" onclick="buttonClicked('left')">
                </map>
                <map name="backward">
                    <area shape="rect" coords="0,0,100,110" alt="backward" onclick="buttonClicked('backward')">
                </map>
                <map name="right">
                    <area shape="rect" coords="0,0,100,110" alt="right" onclick="buttonClicked('right')">
                </map>
            </div>
        </div>

        <script type="text/javascript">
            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            function submit(target) {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', 'http://192.168.1.1/' + target);
                xhr.send();
            }

            async function changeImage(id) {
                document.getElementById(id).src=(id + "-Down.png");
                await sleep(100);
                document.getElementById(id).src=(id + "-Up.png")
            }

            function buttonClicked(id) {
                submit(id)
                changeImage(id)                
            }
        </script>

<body>
</html>